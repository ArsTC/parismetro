<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/parismetro/styles.css">
	<link rel="stylesheet" href="https://use.typekit.net/euw0chn.css">
	<link rel="icon" href="/parismetro/assets/favicon.ico" type="image/x-icon">
	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/plugins/svg.min.js"></script>
	<script src="/parismetro/assets/script/pdftreatment.js"></script> -->	
    <title>Métro 1 - Paris Métro Line Maps</title>
</head>
<body>
	<h1 class="header"><a href="/parismetro">Paris Métro Line Maps</a></h1>
	<p class="centered"><strong>Métropolitain</strong><br>
	<span style="font-size: 80px;"><span class="integrated"><img src="/parismetro/assets/icons/symbole_metro_RVB.svg" alt="Métro"></span>&thinsp;<span class="integrated"><img src="/parismetro/assets/icons/metro_1_couleur_RVB.svg" alt="1"></span></span><br>
	<span class="centered" style="font-size: 50px;"><strong>La Défense <span class="integrated"><img src="/parismetro/assets/text/double_fleche.svg" alt="Double flèche"></span> Château de Vincennes</strong></span></p>
	<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/75/MP_05_-_Bastille_-_Ligne_1.jpg/1024px-MP_05_-_Bastille_-_Ligne_1.jpg" alt="Illustration de la ligne" style="width: 100%; max-width: 800px; border-radius: 10px;" class="image-center">
	<div class="license">© Capitaine AdBlock sur <a href="https://commons.wikimedia.org/wiki/File:MP_05_-_Bastille_-_Ligne_1.jpg">Wikimedia Commons</a></div>
	<div class="box image-center">
		<h2 class="centered">Plan de la ligne<br><span class="p"></span></h2>
		<p class="centered">Cliquez sur le point d’une station ou l’icône d’une ligne pour consulter sa page dédiée.</p>
		<p class="centered">Ce plan a été conçu verticalement pour permettre une navigation optimale sur le web et les appareils mobiles.</p>
		<!-- <img src="/parismetro/assets/maps/m01web.svg" alt="Plan de la ligne 1" class="image-center"> -->
		<object type="image/svg+xml" data="/parismetro/assets/maps/m01web.svg" class="image-center"></object>
		<p style="margin-top: 10px !important;">Les nombres figurant à droite de la ligne représentent le temps de marche entre deux stations. Quand celui-ci est inférieur à 10 minutes, privilégiez la marche.</p>
		<div>
			<!-- Lien de téléchargement -->
			<a id="downloadLink" href="#" download>
				<span id="legend">Télécharger le plan</span>
			</a>
		</div>
	</div>
	<div class="box image-center">
		<h2 class="centered">Statistiques et données</h2>
		<table>
			<tr>
				<td class="title">Mise en service</td>
				<td>19 juillet 1900</td>
			</tr>
			<tr>
				<td class="title">Dernier prolongement</td>
				<td>1<sup>er</sup> avril 1992</td>
			</tr>
			<tr>
				<td class="title">Matériel</td>
				<td>MP05</td>
			</tr>
			<tr>
				<td class="title">Arrêts</td>
				<td>25</td>
			</tr>
			<tr>
				<td class="title">Longueur</td>
				<td>16,6&nbsp;km</td>
			</tr>
			<tr>
				<td class="title">Temps de parcours moyen</td>
				<td>35 minutes</td>
			</tr>
			<tr>
				<td class="title">Communes desservies</td>
				<td>6</td>
			</tr>
			<tr>
				<td class="title">Interstation moyenne</td>
				<td>688&nbsp;m</td>
			</tr>
			<tr>
				<td class="title">Fréquentation moyenne<br>(2023)</td>
				<td>165,8&nbsp;M par an (1<sup>e</sup> sur 14)</td>
			</tr>
		</table>
	</div>
	<div class="box image-center">
		<h2 class="centered">Le saviez-vous ?</h2>
		<p>La ligne 1 du métro est la <strong>première</strong> ligne de métro de France à avoir été inaugurée. Elle a été construite en 2 ans à l’occasion de l’exposition universelle de 1900 et a été un véritable succès&nbsp;!</p>
	</div>
	<div class="box image-center">
		<h2 class="centered">Bilan carbone <span class="integrated"><img src="https://upload.wikimedia.org/wikipedia/commons/5/58/Leaf_icon_03.svg" alt="Feuille verte, symbolisant l’écologie."></span></h2>
		<p>Il est estimé à <strong>3,8&nbsp;g</strong> l’émission de gaz à effet de serre (GES) par voyageur et pour chaque kilomètre parcouru en métro. En parcourant la ligne 1 du métro de terminus à terminus, vous émettrez <strong>63,08&nbsp;g</strong> de GES. Or, si tous les voyageurs annuels de la ligne la prenaient ainsi, environ <strong>10&thinsp;500&nbsp;tonnes</strong> de GES seraient émises&nbsp;!</p>
		<p>Une voiture émet en moyenne <strong>134&nbsp;g/km</strong> de GES. Les mêmes trajets effectués cette fois-ci en voiture émetteraient alors environ <strong>369&thinsp;000&nbsp;tonnes</strong> de GES, soit <strong>35 fois plus</strong> qu’en prenant le métro.</p>
		<p>Ainsi, on voit l’impact positif qu’a le fait de privilégier les transports en commun à la voiture. En effet, même si les calculs et nombres sont approximatifs, ils donnent l’idée représentative que prendre les transports en commun est un geste pour l’environnement.</p>
	</div>
	<div class="footer" style="font-size: 10px;">2025 <a href="https://github.com/illavoluntas/">illavoluntas</a>. Ce site est proposé sous la <a href="/parismetro/LICENSE.md">licence MIT</a>. Vous pouvez consulter le code source <a href="https://github.com/illavoluntas/parismetro">ici</a>.<br>Ce site n’est en aucun cas affilié à <a href="https://www.iledefrance-mobilites.fr/">Île-de-France Mobilités</a> ou à la <a href="https://www.ratp.fr">RATP</a>. Ces noms déposés appartiennent à leurs propriétaires respectifs.</div>

	<script>
		async function convertExternalSVGtoPDF(svgUrl, linkId, legendId) {
			const { jsPDF } = window.jspdf;
	
			try {
				// Charger le fichier SVG
				const response = await fetch(svgUrl);
				if (!response.ok) throw new Error("Erreur lors du chargement du fichier SVG.");
				
				const svgText = await response.text();
	
				// Créer un conteneur invisible pour manipuler le SVG
				const parser = new DOMParser();
				const svgDocument = parser.parseFromString(svgText, "image/svg+xml");
				const svgElement = svgDocument.documentElement;
	
				// Récupérer les dimensions du SVG
				const svgWidth = parseFloat(svgElement.getAttribute("width"));
				const svgHeight = parseFloat(svgElement.getAttribute("height"));
	
				if (isNaN(svgWidth) || isNaN(svgHeight)) {
					throw new Error("Impossible de lire les dimensions du SVG. Assurez-vous que le SVG a les attributs 'width' et 'height'.");
				}
	
				// Créer une instance jsPDF avec les dimensions du SVG
				const pdf = new jsPDF({
					orientation: "portrait",
					unit: "pt",
					format: [svgWidth, svgHeight], // Taille personnalisée
				});
	
				// Convertir le SVG en PDF
				await pdf.svg(svgElement, { x: 0, y: 0, width: svgWidth, height: svgHeight });
	
				// Générer le fichier PDF en tant que Blob
				const pdfBlob = pdf.output("blob");
	
				// Créer un lien de téléchargement
				const downloadLink = document.getElementById(linkId);
				if (downloadLink) {
					const pdfUrl = URL.createObjectURL(pdfBlob);
					downloadLink.href = pdfUrl;
					downloadLink.download = "plan_metro.pdf";
				}
	
				// Calculer la taille du fichier PDF en Ko
				const fileSize = (pdfBlob.size / 1024).toFixed(2); // Convertir en Ko avec 2 décimales
	
				// Mettre à jour la légende avec la taille
				const legend = document.getElementById(legendId);
				if (legend) {
					legend.textContent = `Télécharger le plan (taille : ${fileSize} Ko)`;
				}
	
			} catch (error) {
				console.error("Erreur : ", error);
			}
		}
	
		// Appeler la fonction lors du chargement de la page
		window.onload = () => {
			convertExternalSVGtoPDF("/parismetro/assets/maps/m01web.svg", "downloadLink", "legend");
		};
	</script>
</body>
